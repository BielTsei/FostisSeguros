class FormSubmit{constructor(t){this.settings=t,this.form=document.querySelector(t.form),this.formButton=document.querySelector(t.button),this.form&&(this.url=this.form.getAttribute("action")),this.sendForm=this.sendForm.bind(this)}displaySuccess(){this.form.innerHTML=this.settings.success}displayError(){this.form.innerHTML=this.settings.error}getFormObject(){let t={},s=this.form.querySelectorAll("[name]");return s.forEach(s=>{t[s.getAttribute("name")]=s.value}),t}onSubmission(t){t.preventDefault(),this.formButton.disabled=!0,this.formButton.innerText="Enviando, aguarde..."}async sendForm(t){try{this.onSubmission(t);let s=await fetch(this.url,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(this.getFormObject())}),r=await s.json();"true"===r.success?this.displaySuccess():this.displayError()}catch(e){this.displayError(),console.error(e)}}init(){return this.form&&this.form.addEventListener("submit",this.sendForm),this}}const formSubmit=new FormSubmit({form:"[data-form ]",button:"[data-button]",success:"<h1 class='success'>Mensagem enviada! </h1>",error:"<h1 class='error'> N\xe3o foi poss\xedvel enviar sua mensagem.</h1>"});formSubmit.init();